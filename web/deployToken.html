<!--
 Copyright 2019 Ambrosus Inc.
 Email: tech@ambrosus.com
-->
<!DOCTYPE html>
<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<body>
<div class="w3-container w3-teal">
    <h2>Token Creator</h2>
</div>

<div class="w3-container">
<p><label class="w3-text-teal"><b>Create new token</b></label></p>

<p><label class="w3-text-teal">Token owner:</label><br>
<input class="w3-input w3-border w3-light-grey" type= text id="_owner" size=65></p>

<p><label class="w3-text-teal">Token symbol:</label><br>
<input class="w3-input w3-border w3-light-grey" type= text id="_symbol" size=65></p>

<p><label class="w3-text-teal">Token name:</label><br>
<input class="w3-input w3-border w3-light-grey" type= text id="_name" size=65></p>

<p><label class="w3-text-teal">Decimals:</label><br>
<input class="w3-input w3-border w3-light-grey" type= text id="_decimals" size=65></p>

<p><label class="w3-text-teal">Initial supply: </label><br>
<input class="w3-input w3-border w3-light-grey" type= text id="_supply" size=65></p>

<input class="w3-btn w3-blue-grey" type=submit value="Deploy token" onclick="createToken()"><br>

<p><label label class="w3-text-teal" id="result"><h2></h2></label><p>
</div>
<script>


//HTTP post presigned transaction
function createToken()
{
    var _owner = document.getElementById("_owner").value;
    var _symbol = document.getElementById("_symbol").value;
    var _name = document.getElementById("_name").value;
    var _decimals = document.getElementById("_decimals").value;
    var _initialSupply = document.getElementById("_supply").value;

    var xmlHttp = new XMLHttpRequest();
    var request = "http://localhost:3000/createNewToken?owner=" + _owner +
                                               "&symbol=" + _symbol +
                                               "&name=" + _name +
                                               "&decimals=" + _decimals +
                                               "&initialSupply=" + _initialSupply;

    xmlHttp.onreadystatechange = function() { 
        if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
            document.getElementById("result").innerHTML = xmlHttp.responseText;
    }

    xmlHttp.open("POST", request, true); // true for asynchronous 
    xmlHttp.send(null);
}

</script>

</body>
</html>
